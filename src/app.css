@import "tailwindcss";

@font-face {
	font-family: "ClashDisplayVariable";
	src: url("/fonts/ClashDisplay-Variable.woff2") format("woff2");
	font-weight: 200 900;
	font-style: normal;
}

@font-face {
	font-family: "ClashGroteskVariable";
	src: url("/fonts/ClashGrotesk-Variable.woff2") format("woff2");
	font-weight: normal;
	font-style: normal;
}

:root {
	/* cedric's green: #082e33 */
	--bg-color: #1a2b3c;
	--text-color: #ffffff;
	--text-glow: 0 0 3px var(--text-color);
	--item-bg-color: var(--text-color);
	--item-text-color: var(--bg-color);
}

body {
	font-family: "ClashDisplayVariable", sans-serif;
	color: var(--text-color);
	background-color: var(--bg-color);
	text-shadow: var(--text-glow);
	user-select: none;
	transition:
		background-color 0.3s,
		color 0.3s;
}

button,
input,
select,
textarea {
	text-shadow: inherit;
}

/* rainbow play progress */
@theme {
	--animate-scroll-left: scroll-left 20s linear infinite;
	--animate-spin-vinyl: spin-vinyl 4s linear infinite;
	--animate-rainbow: rainbow 12s ease infinite;

	@keyframes scroll-left {
		0% {
			transform: translateX(0);
		}
		100% {
			transform: translateX(-50%);
		}
	}

	@keyframes spin-vinyl {
		to {
			transform: rotate(360deg);
		}
	}

	@keyframes rainbow {
		0% {
			background-position: 100% 0%;
		}
		100% {
			background-position: 0% 0%;
		}
	}
}

/* kirby content */
@layer components {
	/* reset margins to handle spacing contextually */
	.kirby-content > * {
		@apply mt-0 mb-0;
	}

	/* standard flow: default spacing between stacked elements */
	.kirby-content > * + * {
		@apply mt-6 md:mt-8;
	}

	/* headings */
	.kirby-content h1 {
		@apply font-bold;
		font-size: clamp(1.5rem, 5vw, 3rem);
		font-weight: 900;
	}
	/* if H1 follows something (rare), give it extra space */
	.kirby-content > * + h1 {
		@apply mt-12 md:mt-16;
	}

	.kirby-content h2 {
		@apply font-bold;
		font-size: clamp(1.25rem, 3vw, 2rem);
		font-weight: 600;
	}
	.kirby-content > * + h2 {
		@apply mt-10 md:mt-12;
	}

	.kirby-content h3 {
		@apply font-medium;
		font-size: clamp(1.1rem, 2vw, 1.5rem);
		font-weight: 500;
	}
	.kirby-content > * + h3 {
		@apply mt-8 md:mt-10;
	}

	.kirby-content h4 {
		@apply font-bold tracking-wide;
		font-size: clamp(1.25rem, 3vw, 2rem);
		font-weight: 700;
	}
	.kirby-content > * + h4 {
		@apply mt-8 md:mt-10;
	}

	/* text */
	.kirby-content p {
		@apply min-h-[1em];
		font-size: clamp(1rem, 1vw + 0.5rem, 1.25rem);
		white-space: pre-line;
		font-weight: 400;
		width: min(100%, 70ch);
		opacity: 0.8;
	}

	/* contextual: tighten text following a heading (grouping) */
	.kirby-content h1 + p,
	.kirby-content h2 + p,
	.kirby-content h3 + p,
	.kirby-content h4 + p {
		@apply mt-2 md:mt-3;
	}

	/* media */
	.kirby-content figure {
		@apply my-6;
	}

	.kirby-content img,
	.kirby-content iframe {
		@apply w-full cursor-pointer;
		filter: drop-shadow(0 0 3px var(--text-color));
		width: min(100%, 30rem);
	}

	.kirby-content a {
		@apply break-all underline hover:opacity-80;
	}

	/* logic breakers */
	/* use '---' in markdown or the 'Spacer' block to create a break that resets spacing */
	.kirby-content hr {
		@apply h-0 border-0 opacity-0;
	}

	.kirby-content {
		text-shadow: none;
		user-select: text;
	}

	/* first element should have no top margin usually */
	.kirby-content > :first-child {
		margin-top: 0;
	}

	/* slide gallery */
	.kirby-content .gallery-wrapper {
		@apply relative w-full bg-black md:w-1/2 lg:w-1/3 xl:w-1/4;
	}

	/* track */
	.kirby-content .gallery-track {
		@apply flex snap-x snap-mandatory overflow-x-auto scroll-smooth;
		scrollbar-width: none;
	}
	.kirby-content .gallery-track::-webkit-scrollbar {
		display: none;
	}

	/* slide */
	.kirby-content .gallery-slide {
		@apply flex w-full flex-none snap-center items-center justify-center;
	}

	/* image */
	.kirby-content .gallery-wrapper img {
		@apply m-0 block h-auto w-full object-cover;
		filter: drop-shadow(0 0 0 var(--text-color));
	}

	/* button grid container */
	.kirby-content .gallery-btn.grid {
		@apply grid grid-cols-2;
	}

	/* gallery buttons (individual) */
	.kirby-content button.gallery-btn {
		@apply flex cursor-pointer items-center
           justify-center border-2 border-[var(--text-color)]
           bg-[var(--bg-color)] text-4xl text-[var(--text-color)] transition-colors duration-100 ease-in-out;
	}

	/* button hover state */
	.kirby-content button.gallery-btn:hover {
		@apply bg-[var(--text-color)] text-[var(--bg-color)];
	}

	/* Positioning
	.kirby-content .gallery-btn.prev {
		@apply;
	}
	.kirby-content .gallery-btn.next {
		@apply;
	} */
}
